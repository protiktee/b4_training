
@{ 
    List<Ost_inventory_b4.Models.BaseEquipment> equipments = (List<Ost_inventory_b4.Models.BaseEquipment>)ViewBag.Equipment;
}
@*<script>
    function ShowModal() {
        $('#dvoverlay').css('display', '');
        $('#dvModalEquipment').css('display', '');
    }
</script>*@
<style>
    .ui-widget-overlay {
        background:#000 !important;
    }
</style>
<script>
    function ShowModal() {
        $('#dvModalEquipment').dialog({
            modal: true
            //,
            //buttons: {
            //    "Ok": function () {
            //        $(this).dialog("close");
            //    },
            //    Cancel: function () {
            //        $(this).dialog("close");
            //    }
            //}
        }); 
    }
    function UpdateEquipment(EquipmentID, OperationType) {
        $('#hdSelectedEquipmentID').val(EquipmentID);
        $('#hdSelectedOpType').val(OperationType);
        if (OperationType == "Update") {
            $('#txtName').val('Laptop 1'); 
            $('#txtQuantity').val("10");  
            $('#txtEntryDate').val("10/03/2024"); 
            $('#txtReceiveDate').val("10/03/2024"); 
            $('#btnSave').val("Update");
            ShowModal();
        }
        if (OperationType == "Delete") {
            $('#txtName').val('mouse pad_222');
            $('#txtQuantity').val("10");
            $('#txtEntryDate').val("10/03/2024");
            $('#txtReceiveDate').val("10/03/2024");
            $('#btnSave').val("Delete");
            ShowModal();
        }
    }
</script>

<div class="card">
    <div class="card-header">
        Equipment List
        <a href="#" class="btn btn-sm btn-primary" onclick="ShowModal()">Add New</a>
    </div>
    <div class="card-body">
        <div style="width:100%;height:400px;overflow:auto">
            <table class="ws-table-all" style="width:100%">
                <tr>
                    <th> Edit/Delete </th>
                    <th> EquipmentName </th>
                    <th> Quantity </th>
                    <th> Stock </th>
                    <th> EntryDate </th>
                    <th> ReceiveDate </th> 
                </tr>
                @foreach (Ost_inventory_b4.Models.BaseEquipment obj in equipments)
                {
                    <tr>
                        @*<td>@obj.EquipmentId</td>*@
                        <td><a onclick="UpdateEquipment(@obj.EquipmentId,'Update')">Edit</a>|<a onclick="UpdateEquipment(@obj.EquipmentId,'Delete')">Delete</a></td>
                        <td>@obj.EquipmentName</td>
                        <td>@obj.Quantity</td>
                        <td>@obj.Stock</td>
                        <td>@obj.EntryDate.ToString("dddd, dd MMMM yyyy")</td>
                        <td>@obj.ReceiveDate.ToString("dddd, dd MMMM yyyy")</td>

                    </tr>
                }
            </table>
        </div>
    </div>
</div>